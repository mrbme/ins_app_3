<div class="container">
  <div class="d-flex justify-content-between">
    <h4>Location</h4>
    <h4>Basic</h4>
    <h4>Health</h4>
    <h4>Coverage</h4>
    <h4>Quotes</h4>
  </div>
  <div class="progress">
    <div class="progress-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
  <!-- end progress -->
<div id="zipcode" class="invisible"><%= @user_wizard.zip_code %></div>
<div style="font-size:3em; width: 60%;" id="empty_zip" class="text-center m-auto"></div>

        <div class="m-auto w-50">
<%= simple_form_for @user_wizard, as: :user_wizard, url: validate_step_wizard_path do |f| %>
<%= f.error_notification %>
   <%= hidden_field_tag :current_step, 'step2' %>
  <div class="form-group">
    <label for="formGroupExampleInput">Birth Date</label>
    <%= f.date_field :birthday, class: "form-control" %>
  </div>
  <div class="form-group">
    <label for="formGroupExampleInput2">Gender</label>
     <%= f.select :gender, ['male', 'female'], class: "form-control" %>
  </div>
  <%= f.submit 'Next', class: "btn btn-primary" %>
<% end %>
</div>




<script type="text/javascript">
$(document).ready(function() {
    var x = $('#zipcode');
    var zipcode = x.text();
    console.log(zipcode);
    $.ajax({
        method: 'get',
        url: 'https://www.zipcodeapi.com/rest/js-CG1uBA4LwSJo4GkIx2HG4aQUNoW0kf7Wf3wSxyUuf1tEuktkow3ueSFeFQMrB3w9/info.json/' + zipcode + '/degrees',
        dataType: 'json',
        success: function(data, status, jqXHR) {
            console.log(data);
            var city = data.city;
            if (city !== null || city !== '' || typeof city !== 'undefined') {
                console.log(city);
                var y = document.getElementById('empty_zip');
                y.innerHTML += "Ok, we've found great carriers in" + " " + city + "!";
            }
        }
    });
});
</script>